{"ast":null,"code":"var _jsxFileName = \"/home/tarzan/Projects/MinumChess/chess-frontend/src/components/Board/board.js\";\nimport React from 'react';\nimport Row from './Row/row';\nimport './styles/board.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Board extends React.Component {\n  constructor() {\n    super();\n    this.height = window.screen.height - 75;\n    this.state = {\n      board: [],\n      userColor: null,\n      yourPiece: null,\n      thierPiece: null,\n      turn: 0\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleThierPiece = this.handleThierPiece.bind(this);\n    this.handleYourPiece = this.handleYourPiece.bind(this);\n    this.getThierPiece = this.getThierPiece.bind(this);\n    this.getYourPiece = this.getYourPiece.bind(this);\n    this.getBoard = this.getBoard.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.getUserId() !== 0) {\n      this.interval = setInterval(() => {\n        fetch(\"http://localhost:5000/ChessAPI/getColor/\" + this.props.getUserId(), {\n          method: 'GET',\n          headers: {\n            \"Content-type\": \"application/json\"\n          }\n        }).then(res => res.text()).then(result => {\n          this.setState({\n            userColor: result\n          });\n        });\n        fetch(\"http://localhost:5000/ChessAPI/getBoard/\" + this.props.getUserId(), {\n          method: 'GET',\n          headers: {\n            \"Content-type\": \"application/json\"\n          }\n        }).then(res => {\n          if (res.status === 418) {\n            console.log(\"Game over\");\n          } else {\n            console.log(\"not over\");\n          }\n\n          return res.json();\n        }).then(result => {\n          if (this.state.userColor === \"Black\") {\n            console.log(\"black board getting flipped\");\n\n            for (let x = 0; x < 8; x++) {\n              for (let y = 0; y < 4; y++) {\n                let row = result[x][7 - y].row;\n                let col = result[x][7 - y].col;\n                let type = result[x][7 - y].type;\n                let color = result[x][7 - y].color;\n                result[x][7 - y].color = result[x][y].color;\n                result[x][7 - y].type = result[x][y].type;\n                result[x][7 - y].row = result[x][y].row;\n                result[x][7 - y].col = result[x][y].col;\n                result[x][y].color = color;\n                result[x][y].type = type;\n                result[x][y].row = row;\n                result[x][y].col = col;\n                /*\n                let temp = result[x][7-y];\n                result[x][7-y] = result[x][y]\n                result[x][y] = temp;*/\n              }\n            }\n          }\n\n          this.setState({\n            board: result\n          });\n        }, error => {\n          console.log(\"error in fetching board\");\n        });\n        fetch(\"http://localhost:5000/ChessAPI/getTurn/\" + this.props.getUserId(), {\n          method: 'GET',\n          headers: {\n            \"Content-type\": \"application/json\"\n          }\n        }).then(res => res.text()).then(result => {\n          this.setState({\n            turn: result\n          });\n        });\n      }, 2000);\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  handleYourPiece(piece) {\n    if (piece.color === \"White\" && this.state.turn % 2 === 0) {\n      this.setState({\n        yourPiece: piece\n      });\n    } else if (piece.color === \"Black\" && this.state.turn % 2 === 1) {\n      this.setState({\n        yourPiece: piece\n      });\n    }\n  }\n\n  handleThierPiece(piece) {\n    this.setState({\n      thierPiece: piece\n    });\n  }\n\n  getYourPiece() {\n    return this.state.yourPiece;\n  }\n\n  getThierPiece() {\n    return this.state.thierPiece;\n  }\n\n  getBoard() {\n    return this.state.board;\n  }\n\n  handleSubmit() {\n    console.log(\"Your piece: \" + this.state.yourPiece.row);\n    console.log(\"Thier Piece: \" + this.state.thierPiece.row);\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        userId: this.props.getUserId(),\n        yourRow: this.state.yourPiece.row,\n        yourCol: this.state.yourPiece.col,\n        thierRow: this.state.thierPiece.row,\n        thierCol: this.state.thierPiece.col\n      })\n    };\n    this.setState({\n      yourPiece: null\n    });\n    this.setState({\n      thierPiece: null\n    });\n    fetch('http://localhost:5000/ChessAPI/chessMove', requestOptions) //.then(response => response.json())\n    .then(data => this.setState({\n      Board: data\n    }));\n  }\n\n  render() {\n    console.log(\"here\");\n    let chessboard, renderedButton, playerTurn;\n\n    if (this.props.getUserId() !== 0 && this.state.board.length === 8) {\n      let board = [...this.state.board];\n      /*if(this.state.userColor === \"Black\"){\n        console.log(\"black board getting flipped\")\n        for (let x = 0; x < 8; x++){\n          for(let y = 0; y < 4; y++){\n            let temp = board[x][7-y];\n            board[x][7-y] = board[x][y]\n            board[x][y] = temp\n          }\n        }\n      }*/\n\n      chessboard = board.map(row => /*#__PURE__*/_jsxDEV(Row, {\n        row: row,\n        getBoard: this.getBoard,\n        userColor: this.state.userColor,\n        setYours: this.handleYourPiece,\n        setThiers: this.handleThierPiece,\n        getYours: this.getYourPiece,\n        getThiers: this.getThierPiece\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 39\n      }, this));\n      renderedButton = this.state.thierPiece != null && this.state.yourPiece != null ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.handleSubmit,\n        children: \"Submit Move\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 90\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n      playerTurn = this.state.turn % 2 === 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"center\",\n        children: \"White's turn to move.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 50\n      }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"center\",\n        children: \"Black's turn to move.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 102\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [playerTurn, /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"center\",\n        children: chessboard\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center\",\n        children: renderedButton\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/tarzan/Projects/MinumChess/chess-frontend/src/components/Board/board.js"],"names":["React","Row","Board","Component","constructor","height","window","screen","state","board","userColor","yourPiece","thierPiece","turn","componentDidMount","bind","handleSubmit","handleThierPiece","handleYourPiece","getThierPiece","getYourPiece","getBoard","props","getUserId","interval","setInterval","fetch","method","headers","then","res","text","result","setState","status","console","log","json","x","y","row","col","type","color","error","componentWillUnmount","clearInterval","piece","requestOptions","body","JSON","stringify","userId","yourRow","yourCol","thierRow","thierCol","data","render","chessboard","renderedButton","playerTurn","length","map"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Row from './Row/row';\nimport './styles/board.css'\nexport default class Board extends React.Component {\n  height = window.screen.height - 75\n  constructor() {\n    super();\n    this.state = {\n      board: [],\n      userColor: null,\n      yourPiece: null,\n      thierPiece: null,\n      turn: 0\n    }\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleThierPiece = this.handleThierPiece.bind(this);\n    this.handleYourPiece = this.handleYourPiece.bind(this);\n    this.getThierPiece = this.getThierPiece.bind(this);\n    this.getYourPiece = this.getYourPiece.bind(this);\n    this.getBoard = this.getBoard.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.getUserId() !== 0) {\n      this.interval = setInterval(() => {\n        fetch(\"http://localhost:5000/ChessAPI/getColor/\" + this.props.getUserId(), {\n          method: 'GET',\n          headers: {\n            \"Content-type\": \"application/json\"\n          }\n        })\n          .then(res => res.text())\n          .then(\n            (result) => {\n              this.setState({ userColor: result });\n            }\n          );\n        fetch(\"http://localhost:5000/ChessAPI/getBoard/\" + this.props.getUserId(), {\n          method: 'GET',\n          headers: {\n            \"Content-type\": \"application/json\"\n          }\n        })\n          .then(res => {\n            if (res.status === 418) {\n              console.log(\"Game over\")\n            }\n            else {\n              console.log(\"not over\")\n            }\n            return res.json()\n          })\n          .then(\n            (result) => {\n              if (this.state.userColor === \"Black\") {\n                console.log(\"black board getting flipped\")\n                for (let x = 0; x < 8; x++) {\n                  for (let y = 0; y < 4; y++) {\n                    \n                    let row = result[x][7 - y].row;\n                    let col = result[x][7 - y].col;\n                    let type = result[x][7 - y].type;\n                    let color = result[x][7 - y].color\n                    result[x][7 - y].color = result[x][y].color\n                    result[x][7 - y].type = result[x][y].type\n                    result[x][7 - y].row = result[x][y].row\n                    result[x][7 - y].col = result[x][y].col\n                    result[x][y].color = color\n                    result[x][y].type = type\n                    result[x][y].row = row\n                    result[x][y].col = col\n                    /*\n                    let temp = result[x][7-y];\n                    result[x][7-y] = result[x][y]\n                    result[x][y] = temp;*/\n                    \n                  }\n                }\n              }\n              this.setState({ board: result });\n            },\n            (error) => {\n              console.log(\"error in fetching board\");\n            }\n          )\n        fetch(\"http://localhost:5000/ChessAPI/getTurn/\" + this.props.getUserId(), {\n          method: 'GET',\n          headers: {\n            \"Content-type\": \"application/json\"\n          }\n        })\n          .then(res => res.text())\n          .then(\n            (result) => {\n              this.setState({ turn: result });\n            }\n          );\n      }, 2000);\n\n    }\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n  handleYourPiece(piece) {\n    if (piece.color === \"White\" && this.state.turn % 2 === 0) {\n      this.setState({ yourPiece: piece });\n    }\n    else if (piece.color === \"Black\" && this.state.turn % 2 === 1) {\n      this.setState({ yourPiece: piece });\n    }\n  }\n  handleThierPiece(piece) {\n    this.setState({ thierPiece: piece });\n  }\n  getYourPiece() {\n    return this.state.yourPiece;\n  }\n  getThierPiece() {\n    return this.state.thierPiece;\n  }\n  getBoard() {\n    return this.state.board;\n  }\n  handleSubmit() {\n    console.log(\"Your piece: \" + this.state.yourPiece.row);\n    console.log(\"Thier Piece: \" + this.state.thierPiece.row);\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        userId: this.props.getUserId(),\n        yourRow: this.state.yourPiece.row,\n        yourCol: this.state.yourPiece.col,\n        thierRow: this.state.thierPiece.row,\n        thierCol: this.state.thierPiece.col\n      })\n    };\n    this.setState({ yourPiece: null });\n    this.setState({ thierPiece: null });\n    fetch('http://localhost:5000/ChessAPI/chessMove', requestOptions)\n      //.then(response => response.json())\n      .then(data => this.setState({ Board: data }));\n\n  }\n\n  render() {\n    console.log(\"here\")\n    let chessboard, renderedButton, playerTurn;\n    if (this.props.getUserId() !== 0 && this.state.board.length === 8) {\n      let board = [...this.state.board];\n      /*if(this.state.userColor === \"Black\"){\n        console.log(\"black board getting flipped\")\n        for (let x = 0; x < 8; x++){\n          for(let y = 0; y < 4; y++){\n            let temp = board[x][7-y];\n            board[x][7-y] = board[x][y]\n            board[x][y] = temp\n          }\n        }\n      }*/\n      chessboard = board.map((row) => <Row row={row} getBoard={this.getBoard} userColor={this.state.userColor} setYours={this.handleYourPiece} setThiers={this.handleThierPiece} getYours={this.getYourPiece} getThiers={this.getThierPiece} />);\n      renderedButton = (this.state.thierPiece != null && this.state.yourPiece != null) ? <button onClick={this.handleSubmit}>Submit Move</button> : <></>\n      playerTurn = (this.state.turn % 2 === 0) ? <h2 className=\"center\">White's turn to move.</h2> : <h2 className=\"center\">Black's turn to move.</h2>\n    }\n    return (<React.Fragment>\n      {playerTurn}\n      <table className=\"center\">{chessboard}</table>\n      <div className=\"center\">{renderedButton}</div>\n    </React.Fragment >);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}