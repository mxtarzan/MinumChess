{"ast":null,"code":"var _jsxFileName = \"/home/tarzan/Projects/MinumChess/chess-frontend/src/components/GoogleBtn/googleBtn.js\";\nimport React, { Component } from 'react';\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CLIENT_ID = '508581487958-pbfaodt08fs72ggsq6ft7crch385pbbu.apps.googleusercontent.com';\nexport default class GoogleBtn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogined: false,\n      name: \"\",\n      userId: 0\n    };\n    this.login = this.login.bind(this);\n    this.handleLoginFailure = this.handleLoginFailure.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleLogoutFailure = this.handleLogoutFailure.bind(this);\n  }\n\n  login(response) {\n    if (response.accessToken) {\n      this.setState(state => ({\n        isLogined: true,\n        name: response.profileObj.name,\n        userId: response.profileObj.googleId\n      }));\n      this.props.setLoggedIn(this.state.isLogined);\n      this.props.setUserId(this.state.userId);\n      this.props.setUsername(this.state.name);\n    }\n  }\n\n  logout(response) {\n    this.setState(state => ({\n      isLogined: false,\n      name: '',\n      userId: 0\n    }));\n    this.props.setLoggedIn(this.state.isLogined);\n    this.props.setUserId(this.state.userId);\n    this.props.setUsername(this.state.name);\n  }\n\n  handleLoginFailure(response) {\n    alert('Failed to log in');\n  }\n\n  handleLogoutFailure(response) {\n    alert('Failed to log out');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.isLogined ? /*#__PURE__*/_jsxDEV(GoogleLogout, {\n        clientId: CLIENT_ID,\n        buttonText: \"Logout\",\n        onLogoutSuccess: this.logout,\n        onFailure: this.handleLogoutFailure\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(GoogleLogin, {\n        clientId: CLIENT_ID,\n        buttonText: \"Login\",\n        onSuccess: this.login,\n        onFailure: this.handleLoginFailure,\n        cookiePolicy: 'single_host_origin',\n        responseType: \"code,token\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/tarzan/Projects/MinumChess/chess-frontend/src/components/GoogleBtn/googleBtn.js"],"names":["React","Component","GoogleLogin","GoogleLogout","CLIENT_ID","GoogleBtn","constructor","props","state","isLogined","name","userId","login","bind","handleLoginFailure","logout","handleLogoutFailure","response","accessToken","setState","profileObj","googleId","setLoggedIn","setUserId","setUsername","alert","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,oBAA1C;;AAGA,MAAMC,SAAS,GAAG,0EAAlB;AAGA,eAAe,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAC9CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,SAAS,EAAE,KADA;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,MAAM,EAAE;AAHG,KAAb;AAMA,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBD,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKE,MAAL,GAAc,KAAKA,MAAL,CAAYF,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKG,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBH,IAAzB,CAA8B,IAA9B,CAA3B;AACD;;AAEDD,EAAAA,KAAK,CAAEK,QAAF,EAAY;AACf,QAAGA,QAAQ,CAACC,WAAZ,EAAwB;AACtB,WAAKC,QAAL,CAAcX,KAAK,KAAK;AACtBC,QAAAA,SAAS,EAAE,IADW;AAEtBC,QAAAA,IAAI,EAAEO,QAAQ,CAACG,UAAT,CAAoBV,IAFJ;AAGtBC,QAAAA,MAAM,EAAEM,QAAQ,CAACG,UAAT,CAAoBC;AAHN,OAAL,CAAnB;AAKA,WAAKd,KAAL,CAAWe,WAAX,CAAuB,KAAKd,KAAL,CAAWC,SAAlC;AACA,WAAKF,KAAL,CAAWgB,SAAX,CAAqB,KAAKf,KAAL,CAAWG,MAAhC;AACA,WAAKJ,KAAL,CAAWiB,WAAX,CAAuB,KAAKhB,KAAL,CAAWE,IAAlC;AACD;AACF;;AAEDK,EAAAA,MAAM,CAAEE,QAAF,EAAY;AAChB,SAAKE,QAAL,CAAcX,KAAK,KAAK;AACtBC,MAAAA,SAAS,EAAE,KADW;AAEtBC,MAAAA,IAAI,EAAE,EAFgB;AAGtBC,MAAAA,MAAM,EAAE;AAHc,KAAL,CAAnB;AAKA,SAAKJ,KAAL,CAAWe,WAAX,CAAuB,KAAKd,KAAL,CAAWC,SAAlC;AACA,SAAKF,KAAL,CAAWgB,SAAX,CAAqB,KAAKf,KAAL,CAAWG,MAAhC;AACA,SAAKJ,KAAL,CAAWiB,WAAX,CAAuB,KAAKhB,KAAL,CAAWE,IAAlC;AACD;;AAEDI,EAAAA,kBAAkB,CAAEG,QAAF,EAAY;AAC5BQ,IAAAA,KAAK,CAAC,kBAAD,CAAL;AACD;;AAEDT,EAAAA,mBAAmB,CAAEC,QAAF,EAAY;AAC7BQ,IAAAA,KAAK,CAAC,mBAAD,CAAL;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACA;AAAA,gBACI,KAAKlB,KAAL,CAAWC,SAAX,gBACA,QAAC,YAAD;AACE,QAAA,QAAQ,EAAGL,SADb;AAEE,QAAA,UAAU,EAAC,QAFb;AAGE,QAAA,eAAe,EAAG,KAAKW,MAHzB;AAIE,QAAA,SAAS,EAAG,KAAKC;AAJnB;AAAA;AAAA;AAAA;AAAA,cADA,gBAOiB,QAAC,WAAD;AACf,QAAA,QAAQ,EAAGZ,SADI;AAEf,QAAA,UAAU,EAAC,OAFI;AAGf,QAAA,SAAS,EAAG,KAAKQ,KAHF;AAIf,QAAA,SAAS,EAAG,KAAKE,kBAJF;AAKf,QAAA,YAAY,EAAG,oBALA;AAMf,QAAA,YAAY,EAAC;AANE;AAAA;AAAA;AAAA;AAAA;AARrB;AAAA;AAAA;AAAA;AAAA,YADA;AAoBD;;AArE8C","sourcesContent":["import React, { Component } from 'react'\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\n\n\nconst CLIENT_ID = '508581487958-pbfaodt08fs72ggsq6ft7crch385pbbu.apps.googleusercontent.com';\n\n\nexport default class GoogleBtn extends Component {\n   constructor(props) {\n    super(props);\n\n    this.state = {\n      isLogined: false,\n      name: \"\",\n      userId: 0\n    };\n\n    this.login = this.login.bind(this);\n    this.handleLoginFailure = this.handleLoginFailure.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleLogoutFailure = this.handleLogoutFailure.bind(this);\n  }\n\n  login (response) {\n    if(response.accessToken){\n      this.setState(state => ({\n        isLogined: true,\n        name: response.profileObj.name,\n        userId: response.profileObj.googleId\n      }));\n      this.props.setLoggedIn(this.state.isLogined);\n      this.props.setUserId(this.state.userId);\n      this.props.setUsername(this.state.name);\n    }\n  }\n\n  logout (response) {\n    this.setState(state => ({\n      isLogined: false,\n      name: '',\n      userId: 0\n    }));\n    this.props.setLoggedIn(this.state.isLogined);\n    this.props.setUserId(this.state.userId);\n    this.props.setUsername(this.state.name);\n  }\n\n  handleLoginFailure (response) {\n    alert('Failed to log in')\n  }\n\n  handleLogoutFailure (response) {\n    alert('Failed to log out')\n  }\n\n  render() {\n    return (\n    <div>\n      { this.state.isLogined ?\n        <GoogleLogout\n          clientId={ CLIENT_ID }\n          buttonText='Logout'\n          onLogoutSuccess={ this.logout }\n          onFailure={ this.handleLogoutFailure }\n        >\n        </GoogleLogout>: <GoogleLogin\n          clientId={ CLIENT_ID }\n          buttonText='Login'\n          onSuccess={ this.login }\n          onFailure={ this.handleLoginFailure }\n          cookiePolicy={ 'single_host_origin' }\n          responseType='code,token'\n        />\n      }\n    </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}